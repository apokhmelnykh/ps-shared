# Перенос групп безопасности между доменами

## Параметры запуска скрипта:  
'dirRootPath' - стартовая директория откуда начинать сканирование, обязательный параметр  
'dstOU' - DN путь в целевом домене, где будут созданы группы, обязательный параметр  
'dirScanLevel' - глубина обхода, параметр задан по умолчанию  
'groupNameLike' - фильтр по имени группы, параметр задан по умолчанию  
'csvPath' - путь к файлу в формате csv, в него сохраняем группы, которые будут созданы в целевом домене, параметр задан по умолчанию  
'dstDomainController' - Имя котнроллера домена в целевом домене, параметр задан по умолчанию  
'csvOnly' - если нужно только сформировать список групп для миграции, параметр задан по умолчанию 

## Пример запуска
```
.\Create-GroupsFromACL.ps1 -dirRootPath C:\Admin\ -dstOU "OU=test,OU=ADDS,DC=ds,DC=itallow,DC=ru"
```

## Как работает скрипт
#### Block1.  
Запустите скрипт от пользователя домена из которого осуществляем перенос групп.  
Скрипт рекурсивно находит директории начиная с директории переданной в параметре `dirRootPath`.  
Далее из полученных директорий извлекаются группы безопасности с учетом фильтра по имени группы и глубины обхода.  
Из исходного домена запрашивается информация для поля "описание" групп безопасноти.  
Формируется файл в формате csv, содержит имена и описания групп безопасности из исходного домена.  

#### Block2.  
В целевом домене создаются группы безопасности полученные на предыдущем шаге. Группы создаются в OU переданном в параметре 'dstOU'.
